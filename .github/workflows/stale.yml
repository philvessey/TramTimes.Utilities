name: Stale

on:
  schedule:
    - cron: '0 0 * * *'
  workflow_dispatch:

permissions:
  issues: write
  pull-requests: write

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/stale@v9
        with:
          days-before-stale: 60
          days-before-close: 14

          stale-issue-label: 'stale'
          stale-issue-message: |
            This issue has been automatically marked as stale because it has not had recent activity.
            It will be closed in 14 days if no further activity occurs.

            If this issue is still relevant, please:
            - Add a comment to keep it open
            - Remove the `stale` label
            - Provide any additional context or updates

            Thank you for your contributions! üôè
          close-issue-message: |
            This issue has been automatically closed due to inactivity.

            If you believe this issue is still relevant, please feel free to reopen it or create a new issue with updated information.

            Thank you for your understanding! üëã
          exempt-issue-labels: 'pinned,security,bug,enhancement,good first issue'
          stale-pr-label: 'stale'
          stale-pr-message: |
            This pull request has been automatically marked as stale because it has not had recent activity.
            It will be closed in 14 days if no further activity occurs.

            If this PR is still relevant, please:
            - Rebase it against the latest main/master branch
            - Add a comment to keep it open
            - Remove the `stale` label

            Thank you for your contributions! üôè
          close-pr-message: |
            This pull request has been automatically closed due to inactivity.

            If you would like to continue with this PR, please feel free to reopen it or submit a new PR.

            Thank you for your understanding! üëã
          exempt-pr-labels: 'pinned,security,work in progress,WIP'

          ascending: false
          exempt-milestones: true
          exempt-all-assignees: true
          operations-per-run: 100
          remove-stale-when-updated: true